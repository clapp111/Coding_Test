
## 가장 많이 받은 선물 (Lv.1)

[https://school.programmers.co.kr/learn/courses/30/lessons/258712]

### 기록

1. **vector 배열을 지향**
    
    ```cpp
    int n = friends.size();
    int arr2d[n][n] = {0,};
    ```
    
    이건 VLA(Variable Length Array)라고 해서 “런타임에 크기가 정해지는 배열”이다.
    
    하지만 C++ 표준에서는 배열 크기가 컴파일 타임 상수여야 한다.
    
    안전하게 vector를 사용하자 (대충 기능은 비슷하거나 더 많고 편하다)
    
2. **unordered_map<key_type, value_type>을 사용**
    
    map보다 더 빠른 탐색을 하기 위한 자료구조이다.
    
    unordered_map은 해쉬테이블로 구현한 자료구조로 탐색 시간 복잡도는 O(1)이다.
    
    → map은 BST로 탐색 시간 복잡도는 O(log n)이다.
    
    해당 문제에서는 key가 이름을, value가 인덱스를 정의할 수 있게 했다.
    
    이후 표에서 이름 대신 인덱스로 탐색할 수 있도록 하기 위함이다. 
    
3. **stringstream을 사용하여 파싱**
    
    <sstream> 라이브러리를 사용하여 문자열을 파싱한다.
    
    - stringstream ss(source_string); → source_string으로 부터 stringstream을 생성한다.
    - getline(stringstream, target_string, delimeter); → stringstream에서 delimiter 이전까지의 문자열을 잘라내어 target_string으로 복사한다.

### 제출 코드

```cpp
#include <string>
#include <vector>
#include <algorithm>
#include <sstream>
#include <unordered_map>

using namespace std;

int solution(vector<string> friends, vector<string> gifts) {
	int n = (int)friends.size();
	vector<vector<int>> arr2d(n, vector<int>(n, 0));
	vector<int> gift_ex(n, 0);
	vector<int> result(n, 0);
	unordered_map<string, int> idx;
	
	for(int i = 0; i < n; i++) {
	    idx[friends[i]] = i;
	}
	for(string gift : gifts){
	    stringstream ss(gift);
	    string a, b;
	    getline(ss, a, ' ');
	    getline(ss, b, ' ');
	    arr2d[idx[a]][idx[b]]++;
	}
	for(int i = 0; i < n; i++){
	    int sum = 0;
	    for(int j = 0; j < n; j++){
	        sum += arr2d[i][j] - arr2d[j][i];
	    }
	    gift_ex[i] = sum;
	}
	for(int i = 0; i < n; i++){
	    for(int j = i + 1; j < n; j++){
	        if(arr2d[i][j] > arr2d[j][i]) result[i]++;
	        else if(arr2d[i][j] < arr2d[j][i]) result[j]++;
	        else{
	            if(gift_ex[i] > gift_ex[j]) result[i]++;
	            else if(gift_ex[i] < gift_ex[j]) result[j]++;
	        }
	    }
	}
	return *max_element(result.begin(), result.end());
}
```